{% extends 'base.html' %}
{% load static %}

{% block main %}

<!-- Модальное окно продукта -->
<div class="modal modal-flex" id="productModal" tabindex="-1" role="dialog">
        <div class="modal-dialog modal-xl " role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="productModalTitle">Название продукта</h5>
                    <button type="button" class="close animated fadeIn" data-dismiss="modal" aria-label="Close"
                            onclick="closeProductModal()">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">

                    <!-- Фотогалерея с использованием Owl Carousel и анимаций Animate.css -->
                    <div class="inner-block owl-carousel owl-theme" id="productCarousel">
                        <div class="item animated fadeIn"><img src="{% static 'website/img/project-3.jpg' %}"
                                                               alt="Image 1"></div>
                        <div class="item animated fadeIn"><img src="{% static 'website/img/project-2.jpg' %}"
                                                               alt="Image 2"></div>
                        <div class="item animated fadeIn"><img src="{% static 'website/img/project-1.jpg' %}"
                                                               alt="Image 3"></div>
                        <!-- Добавьте другие изображения по мере необходимости -->
                    </div>
                    <div class="inner-block description">
                        <!-- Подробное описание продукта с анимацией -->
                        <h5 class="text-primary">Краткое описание</h5>
                        <p class="animated fadeIn" id="productDescription">
                            Lorem ipsum dolor sit amet, consectetur adipisicing elit. Architecto atque cupiditate
                            dolorum id nulla placeat quasi quibusdam rerum similique veniam.
                        </p>


                    </div>
                </div>

                <div class="modal-footer">
                    <a href="" id="documentationLink" type="button" class="btn btn-secondary">Документация <i
                                    class="fa-solid fa-file"></i></a>
                    <button type="button" class="btn btn-danger" onclick="closeProductModal()">Закрыть</button>
                </div>
            </div>
        </div>
    </div>


<!-- Catalog Start -->
<div class="block-content">
    {% if not no_products %}
    <div class="container py-3">
        <a class="btn btn-primary rounded-pill py-3 px-5" href="/product_catalog/">Вернуться назад</a>
    </div>
    {% endif %}
    <div class="container py-5 inner-catalog-grid">
    {% if no_products %}
        <!-- 404 Start -->
            <div class="container-fluid py-5 my-5 wow fadeIn" data-wow-delay="0.3s">
                <div class="container text-center py-5">
                    <div class="row justify-content-center">
                        <div class="col-lg-6">
                            <i class="bi bi-exclamation-triangle display-1 text-primary"></i>
                            <h1 class="display-1">404</h1>
                            <h1 class="mb-4">Продукты не найдены</h1>
                            <p class="mb-4">Извиняемся но по вашему запросу продуктов не найдено</p>
                            <a class="btn btn-primary rounded-pill py-3 px-5" href="/product_catalog/">Перейдите назад и попробуйте вписать другое название</a>
                        </div>
                    </div>
                </div>
            </div>
            <!-- 404 End -->
    {% else %}
        {% for product in products %}
        <div class="card product-card-appear product-button-appear active" data-bs-target="#productModal" data-bs-toggle="modal" data-card-id="{{ product.pk }}" style="width: 18rem;">
            <img alt="Product Image" class="card-img-top" src="{{ product.get_first_photo }}">
            <div class="card-body">
                <h5 class="card-title">{{ product.title }}</h5>
            </div>
        </div>
        {% endfor %}
    {% endif %}
    </div>
</div>


<script src="{% static 'website/js/searchpage.js' %}"></script>
<style>
    .inner-catalog-grid {
        display: flex;
        flex-wrap: wrap;
        max-width: 90%;
    }
    .card {
        margin: 0.8rem;
        width: 18% !important;
        box-shadow: rgba(17, 17, 26, 0.1) 0px 4px 16px, rgba(17, 17, 26, 0.1) 0px 8px 24px, rgba(17, 17, 26, 0.1) 0px 16px 56px;
        transition: box-shadow 0.3s linear;
    }
    .card img{
        width: 90%;
        margin: 10px auto !important;
    }
    @media(max-width: 1000px){
        .card {
            margin: 0.5rem;
            width: 30% !important;
        }
    }
    @media(max-width: 768px){
        .card {
            margin: 0.5rem;
            width: 45% !important;
        }
    }
    @media(max-width: 450px){
        .card {
            width: 100% !important;
        }
        .card .card-title{
            font-size: 1rem;
        }
    }
</style>
{% endblock main %}